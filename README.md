# Drag2Anki

> 일본어와 영어 학습을 위한 올인원 크롬 익스텐션  
> 드래그로 번역하고 Anki 카드로 바로 저장!

---

## ✨ 주요 기능

### 🇯🇵 **일본어 학습 지원**
- **단어/문장 드래그 번역**: 드래그한 일본어의 뜻, 후리가나, 품사 정보를 즉시 확인
- **한자 상세 정보**: 개별 한자의 한국어 뜻, 음독/훈독, JLPT 레벨 제공
- **문맥 기반 번역**: DeepL API를 이용하여 문장 맥락을 고려한 자연스러운 번역 제공
- **후리가나 자동 생성**: 한자 읽는 법을 자동으로 표시

### 🇺🇸 **영어 학습 지원**
- **영어 단어 사전**: 드래그한 영어 단어의 한국어 뜻과 예문 제공
- **영어 문장 번역**: DeepL API를 이용하여 고품질 영어→한국어 번역
- **단어/문장 자동 구분**: 텍스트 길이와 형태를 분석하여 최적의 번역 방식 선택

### 📚 **Anki 통합**
- **원클릭 저장**: 번역 결과를 Anki 카드로 즉시 저장
- **중복 방지**: 이미 저장된 카드 자동 감지 및 선택적 업데이트
- **한자 개별 저장**: 단어와 한자를 각각 별도 카드로 저장 가능

### 🔧 **편의 기능**
- **구글 검색 통합**: 구글 검색창에서도 바로 번역 가능
- **다크 모드**: 눈에 편한 다크 테마 지원
- **캐시 시스템**: 이전 번역 결과 저장으로 빠른 재조회

---

## 🚀 설치 및 설정

### 1. Anki Connect 설치
Anki에 카드를 저장하려면 AnkiConnect 애드온이 필요합니다:

1. **Anki 실행**
2. **도구 → 확장 프로그램 → 확장프로그램 가져오기**
3. 코드 **2055492159** 입력
4. **Anki 재실행**
5. 익스텐션에서 연결 테스트 실행

### 2. 크롬 익스텐션 설치
1. Chrome 웹스토어에서 "Drag2Anki" 검색
2. **Chrome에 추가** 클릭
3. 익스텐션 아이콘 클릭하여 설정 완료

---

## 📖 사용 방법

### **기본 사용법**
1. **텍스트 드래그**: 웹페이지에서 일본어나 영어 텍스트를 드래그 선택
2. **정보 확인**: 자동으로 나타나는 팝업에서 번역 결과 확인
3. **Anki 저장**: 필요시 "Anki에 저장" 버튼 클릭 (**Anki connect**가 설치되어있고 **Anki**가 실행되고 있어야 합니다.)

### **일본어 학습**
- **단어**: 일본어 단어 드래그 → 한국어 뜻과 후리가나 확인
- **문장**: 일본어 문장 드래그 → DeepL 기반 고품질 번역 제공
- **한자**: "한자" 탭에서 개별 한자 정보 확인 → 각 한자별로 개별 저장 가능

### **영어 학습**
- **단어**: 영어 단어 드래그 → 한국어 뜻 확인
- **문장**: 영어 문장 드래그 → DeepL 기반 고품질 번역 제공

### **구글 검색창 자동 번역 기능**
- **구글 검색**: 구글 검색창에 텍스트 입력 후 자동 번역 (설정에서 활성화)

---

## ⚙️ 설정 옵션

### **Anki 설정**
- **덱 이름**: 카드가 저장될 Anki 덱 선택

### **기능 설정**
- **구글 검색 번역**: 구글 검색창에서 자동 번역 활성화/비활성화
- **캐시 사용**: 번역 결과 캐시 사용 여부
- **다크 모드**: 팝업 UI 테마 설정

---

## ❓ FAQ

### **Anki 관련**
**Q: Anki 저장이 안돼요!**  
A: AnkiConnect 플러그인이 설치되어 있고 Anki가 실행 중인지 확인하세요. 설정에서 "연결 테스트"를 실행해보세요.

**Q: 중복 카드가 계속 생성돼요**  
A: 익스텐션이 자동으로 중복을 감지합니다. 중복 발견 시 기존 카드를 유지하거나 새로 저장할지 선택할 수 있습니다.

### **번역 관련**
**Q: 번역을 어떻게 하는건가요?**  
A: 단어는 OpenAI GPT4를 사용하여 사전 형식으로 제공하고, 문장은 DeepL API를 사용하여 번역합니다.

**Q: 드래그해도 팝업이 안 나와요**  
A: 일본어나 영어만 인식합니다. 다른 언어가 섞여있거나 특수문자가 많으면 인식되지 않을 수 있습니다.

### **기술적 문제**
**Q: 익스텐션이 작동하지 않아요**  
A: 페이지를 새로고침하거나 익스텐션을 다시 활성화해보세요. 문제가 지속되면 Chrome을 재시작하세요.

### **구글 검색창 자동 번역**
**Q: 구글 검색창 자동 번역이 왜 필요한가요?**  
A: 일부 해외 Ebook 서비스에서는 한국어 번역 기능을 지원하지 않습니다. 대신 구글 검색 기능만 제공되는데, 이 경우 검색 결과가 외국어로만 표시됩니다. 자동 번역 기능을 활용하면 이러한 검색 결과를 한국어로 쉽게 확인할 수 있습니다.


---

## 🔒 개인정보 보호

- **데이터 처리**: 번역을 위해 선택한 텍스트만 처리되며, 개인정보는 수집하지 않습니다
- **로컬 저장**: 설정과 캐시는 브라우저 로컬에만 저장됩니다

---

## 🛠️ 기술 스택

- **Frontend**: Vanilla JavaScript, Shadow DOM
- **APIs**: OpenAI GPT-4, DeepL, KanjiAPI
- **Backend**: Node.js Proxy Server (Railway)
- **Integration**: AnkiConnect

---
